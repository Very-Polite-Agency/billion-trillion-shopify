@use 'sass:map';
@use '../utils/variables' as *;
@use '../utils/mixins/border' as *;
@use '../utils/mixins/breakpoint' as *;
@use '../utils/mixins/font' as *;

.drawer {

  $width: map.get($theme-drawer-widths, 'base');

  width: $width;
  transition: transform var(--theme-transition--duration);
  height: 100vh;
  min-height: 100vh;
  position: fixed;
  top: 0;
  z-index: 150;
  display: flex;
  flex-direction: column;
  text-transform: uppercase;
  overflow: hidden;

  &-cart {
    display: none;
  }

  &-mobile-menu {

    transform: translate3d( -1 * $width, 0, 0 );
    height: calc(100vh - var(--theme-header-height--mobile));
    top: var(--theme-header-height--mobile);
    left: 0;

    &__main {
      &-navigation {
        @include border-solid( var(--theme-border--width), 'black', 'bottom' );
        background: var(--theme-colour--black);
        gap: var(--theme-border--width);
        display: grid;
        grid-template-columns: repeat( 1, 1fr );
        width: 100%;
        &-item,
        &-link {
          line-height: 1;
        }
        &-item {
          font-size: min( 100px, 13.5vw );
          background: pink;
          padding: 14px var(--theme-layout--container-padding);
          &:nth-child(4n+1) {
            background: var(--theme-colour--grey);
          }
          &:nth-child(4n+2) {
            background: var(--theme-colour--orange);
          }
          &:nth-child(4n+3) {
            background: var(--theme-colour--mango);
          }
          &:nth-child(4n+4) {
            background: var(--theme-colour--lemon);
          }
          &:nth-child(4n+5) {
            background: var(--theme-colour--lime);
          }
        }
        &-link {
          width: auto;
          &.active,
          &:hover {
            opacity: var(--theme-transition--opacity);
            color: inherit;
          }
        }
      }
    }

    .shopify-section-drawer-mobile-menu--active & {
      transform: translate3d( 0,0,0 );
    }

  }

  @include breakpoint(sm) {

    $width: map.get($theme-drawer-widths, 'sm');
    width: $width;

    &-mobile-menu {
      transform: translate3d( -1 * $width, 0, 0 );
    }

  }

  @include breakpoint(md) {

    $width: map.get($theme-drawer-widths, 'md');
    width: $width;

    &-mobile-menu {
      transform: translate3d( -1 * $width, 0, 0 );
    }

  }

  @include breakpoint(lg) {

    &-mobile-menu {
      .shopify-section-drawer-mobile-menu--active & {
        transform: translate3d( -1 * $width, 0, 0 );
      }
    }

  }

  @include breakpoint(xl) {

  }

  @include breakpoint(xxl) {

  }

}
