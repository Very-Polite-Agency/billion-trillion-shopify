"use strict";var AgeGate=function(){var e={name:"AgeGate",version:"1.0"},t=new Tools,o=new Modals,n={id:"modal--age-gate",redirectURL:function(){var e=this.id;return document.getElementById(e).getAttribute("data-redirect-url")||"https://pbskids.org"},timeout:function(){var e=this.id;return document.getElementById(e).getAttribute("data-timeout-milliseconds")||3e3}},i={name:"billion-trillion--age-gate",value:"of-age",expires:function(){return parseInt(document.getElementById(n.id).getAttribute("data-days-saved"))||60}},a=function(){var e;!t.cookieExists(i.name,i.value)&&(e=n.id,document.getElementById(e))&&o.toggleModalVisibility(n.id,"show",n.timeout())};return{cookie:i,info:e,init:function(){a(),(document.querySelectorAll("#"+n.id+" .modal__actions button")||[]).forEach((function(e){e.addEventListener("click",(function(a){var r={yes:function(){t.setCookie(i.name,i.value,i.expires());var e=document.getElementById("age-gate--success-message")||!1;e&&(e.style.zIndex="1",e.addEventListener("transitionend",(function(){setTimeout((function(){o.toggleModalVisibility(n.id,"close")}),1250)})),setTimeout((function(){e.classList.add("active")}),250))},no:function(){document.location.replace(n.redirectURL())},default:function(){}};(r[e.dataset.ofAge||""]||r.default)()}))}))},modal:n}},Credits=function(){var e="Billion Trillion",t='"Welcome to the Good Time Galaxy"',o="1.0";return{init:function(){console.log("".concat(e," - ").concat(t," - Version ").concat(o)),console.log("Site by Very Polite Agency – https://weareverypolite.com/")}}},Breakpoints=function(){return{debug:!1,info:{name:"Breakpoints",version:"1.0"},sizes:{sm:576,md:768,lg:992,xl:1200,xxl:1400}}},Forms=function(){var e={name:"Forms",version:"2.2.3"},t=new Tools,o=25,n=[],i=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];console.log("isFieldValid() start");var o=!1,n=e.name||"no-name",i=e.type||"no-type",a=e.nodeName||"no-node-name";switch(a){case"INPUT":switch(i){case"checkbox":o=e.checked;break;case"email":validator.isEmail(e.value.trim())&&(o=!0);break;case"file":case"radio":break;case"tel":validator.isMobilePhone(e.value.trim())&&(o=!0);break;case"password":case"text":validator.isEmpty(e.value.trim())||(o=!0)}break;case"TEXTAREA":validator.isEmpty(e.value.trim())||(o=!0)}return o?t.removeClass("error",[e.closest(".form__field")]):t.addClass("error",[e.closest(".form__field")]),console.log({type:i,name:n,nodeName:a,isValid:o}),console.log("isFieldValid() finish"),o};return{info:e,init:function(){(document.querySelectorAll("form")||[]).forEach((function(e){e.addEventListener("focusin",(function(e){e.target.closest(".form__field")&&e.target.closest(".form__field").classList.add("in-focus")})),e.addEventListener("focusout",(function(e){e.target.closest(".form__field")&&!e.target.value&&e.target.closest(".form__field").classList.remove("in-focus")}))})),document.querySelectorAll('.js--validate-me [type="submit"]').forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var a=e.closest("form"),r=function(){for(var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!0,o=e.querySelectorAll(".required")||[],n=0;n<o.length;n++)console.log("isFormValid() loop count"+n),i(o[n])||(t=!1);return t}(a),l=function(){for(var e=(arguments.length>0&&void 0!==arguments[0]&&arguments[0]).querySelectorAll("input.rude")||[],t=0;t<e.length;t++)if(e[t].value)return!0;return!1}(a),s=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];console.log("hasFiles start");var t=0,i=e.querySelectorAll('input[type="file"]')||[];n.length=0;for(var a=0;a<i.length;a++){var r=i[a],l=r.closest(".field"),s=l.querySelector(".form__error-message")||!1,c=r.files||{},d="";for(var u in c)t+=c[u].size||0,c[u].size&&n.push(c[u]);if((t=t/1024/1024)>o)return d="The total file size (".concat(t.toFixed(1),"MB) is larger than ").concat(o,".0MB"),l.classList.add("error"),s&&(s.innerHTML=d),!1;s&&(s.innerHTML=d),l.classList.remove("error")}return console.log("hasFiles end",{totalMB:t,maxMB:o}),!0}(a);r&&!l&&s&&function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e.action||!1,o=new FormData(e),i=e.dataset.redirectUrl||!1,a=e.dataset.formType||"default",r={};n.length&&n.forEach((function(e,t){o.append("files",e)})),o.forEach((function(e,t){return r[t]=e})),document.body.classList.add("form-posting"),console.log(r),axios.post(t,o).then((function(t){switch(a){case"lead-generation":e.reset(),setTimeout((function(){e.classList.remove("posting"),alert("Thanks ".concat(r["First Name"],"!"))}),750);break;case"redirect":i&&window.location.replace(i);break;default:window.location.replace("/pages/thank-you")}})).catch((function(e){console.log("catch() data :: ",e)}))}(a)}))}))}}},Modals=function(){var e=!0,t={name:"Modals",version:"2.5"},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"show",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=document.getElementById(e)||!1,i=["show","close"].includes(t);console.log({$targetElementID:e,$method:t,$delay:o,modal:n,acceptedMethods:i}),n&&i&&setTimeout((function(){MicroModal[t](e,{onShow:function(e){},onClose:function(e){},awaitCloseAnimation:!0,disableScroll:!0})}),o)};return{debug:e,info:t,init:function(){console.log("".concat(t.name,".init() v.").concat(t.version," Started")),document.querySelectorAll(".js--open-modal").forEach((function(e){e.addEventListener("click",(function(){var t=e.dataset.targetModalId||!1;console.log("onClickOpenModal",t),t&&o(t,"show")}))})),document.querySelectorAll(".button[data-micromodal-close]").forEach((function(e){e.addEventListener("click",(function(){var t=(e.closest(".modal")||!1).id;console.log("onClickCloseModal",t),t&&o(t,"close")}))})),console.log("".concat(t.name,".init() Finished"))},toggleModalVisibility:o}},Scrolling=function(){var e=!1,t={name:"Scrolling",version:"1.0"},o=new Tools,n=o.getArrayOfElementsByTag(),i=!1,a="scroll-position--at-top",r="scroll-position--scrolled",l="scroll-position--scrolling-down",s="scroll-position--scrolling-up",c={current:window.pageYOffset||document.documentElement.scrollTop,initial:window.pageYOffset||document.documentElement.scrollTop,previous:window.pageYOffset||document.documentElement.scrollTop,down:!1},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;c.down=c.current>c.previous,e>15?o.addClass(r,n):o.removeClass(r,n),0===e?o.addClass(a,n):o.removeClass(a,n),c.down?(o.addClass(l,n),o.removeClass(s,n)):(o.addClass(s,n),o.removeClass(l,n))};return{debug:e,info:t,init:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];d(c.current),o.setHeaderHeightTotalCSSVariable(),document.addEventListener("scroll",(function(e){c.previous=c.current,c.current=window.pageYOffset||document.documentElement.scrollTop,i||(window.requestAnimationFrame((function(){d(c.current),o.setHeaderHeightTotalCSSVariable(),i=!1})),i=!0)}))}}},Sizing=function(){var e=!0,t={name:"Sizing",version:"1.0"},o=new Tools,n=(new Breakpoints,!1),i=function(){var e=window.innerHeight;e&&o.setCSSVariable("theme-viewport-height--total",e+"px")},a=function(){var e=document.querySelector(".container .col-12").getBoundingClientRect()||0;console.log(e),e&&o.setCSSVariable("theme-container-max-offset-left",e.left+"px")};return{debug:e,info:t,init:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];console.log("".concat(t.name,".init() v.").concat(t.version," Started")),o.setHeaderHeightTotalCSSVariable(),i(),a(),window.addEventListener("resize",(function(e){n||(window.requestAnimationFrame((function(){o.setHeaderHeightTotalCSSVariable(),i(),a(),n=!1})),n=!0)})),console.log("".concat(t.name,".init() Finished"))}}},Tools=function(){var e=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e+"=",o=document.cookie.split(";"),n=0;n<o.length;n++){for(var i=o[n];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return!1},t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=document.getElementsByTagName(e)[0]||!1;return t?t.offsetHeight:0},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e&&t&&document.documentElement.style.setProperty("--"+e,t)};return{addClass:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e&&t.length)for(var o=0;o<t.length;o++)t[o]&&t[o].classList.add(e)},cookieExists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return o===e(t)},debug:!1,getCookie:e,getLocalStorageValueByKey:function(e){return localStorage.getItem(e)},getElementHeightByTag:t,getArrayOfElementsByTag:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["body","footer","header","main"],t=e.filter((function(e){return document.getElementsByTagName(e)[0]}))||[];return t.map((function(e){return document.getElementsByTagName(e)[0]}))||[]},info:{name:"Tools",version:"1.0"},removeClass:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e&&t.length)for(var o=0;o<t.length;o++)t[o]&&t[o].classList.remove(e)},setCookie:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!e||!t)return!1;var n=new Date;n.setTime(n.getTime()+24*o*60*60*1e3);var i="expires="+n.toUTCString();document.cookie=e+"="+t+";"+i+";path=/"},setCSSVariable:o,setLocalStorage:function(e,t){localStorage.setItem(e,t)},setHeaderHeightTotalCSSVariable:function(){var e=t("header")||!1;e&&o("theme-header-height--total",e+"px")},toggleClass:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e&&t.length)for(var o=0;o<t.length;o++)t[o]&&t[o].classList.toggle(e)}}},modules=[new AgeGate,new Credits,new Forms,new Scrolling];modules.forEach((function(e){return e.init()})),AOS.init({offset:175,delay:0,duration:550,easing:"ease-in-out"});